{"ast":null,"code":"import _classCallCheck from \"/Users/David/Desktop/Portfolio/Machine-Learning-Face-Recognition/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/David/Desktop/Portfolio/Machine-Learning-Face-Recognition/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/David/Desktop/Portfolio/Machine-Learning-Face-Recognition/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/David/Desktop/Portfolio/Machine-Learning-Face-Recognition/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/David/Desktop/Portfolio/Machine-Learning-Face-Recognition/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/David/Desktop/Portfolio/Machine-Learning-Face-Recognition/src/containers/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Navigation from '../components/Navigation/Navigation.js';\nimport Logo from '../components/Logo/Logo.js';\nimport ImageLinkForm from '../components/ImageLinkForm/ImageLinkForm';\nimport Rank from \"../components/Rank/Rank\";\nimport ParticleComp from \"../components/ParticleComp/ParticleComp\";\nimport FaceRecognition from \"../components/FaceRecognition/FaceRecognition\";\nimport Signin from \"../components/Signin/Signin.js\";\n\nvar Clarifai = require('clarifai'); // API key should be changed and secured later, not posting this on github\n\n\nvar app = new Clarifai.App({\n  apiKey: '11f16fba3bba4b98a5229d8e02661a23'\n}); // https://samples.clarifai.com/face-det.jpg\n\nvar getFaceBox = function getFaceBox(response) {\n  var faceBox = response['outputs'][0]['data']['regions'];\n  var image = document.getElementById('inputImage');\n  var width = Number(image.width);\n  var height = Number(image.height);\n  return faceBox.map(function (item) {\n    return {\n      leftCol: item.region_info.bounding_box.left_col * width,\n      topRow: item.region_info.bounding_box.top_row * height,\n      rightCol: width - item.region_info.bounding_box.right_col * width,\n      bottomRow: height - item.region_info.bounding_box.bottom_row * height\n    };\n  });\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.model = function (imageLink) {\n      var resp = {};\n      app.models.predict(\"a403429f2ddf4b49b307e318f00e528b\", imageLink).then(function (response) {\n        resp = getFaceBox(response);\n\n        _this.setState({\n          faceBox: resp\n        });\n\n        console.log(response);\n        console.log(_this.faceBox);\n      }).catch(function (err) {\n        console.log(err);\n      });\n      return resp;\n    };\n\n    _this.imageLinkChange = function (event) {\n      _this.setState({\n        imageLink: event.target.value\n      });\n    };\n\n    _this.imageLinkSubmit = function (event) {\n      _this.model(_this.state.imageLink);\n    };\n\n    _this.onRouteChange = function (route) {\n      if (route === 'signout') {\n        _this.setState({\n          isSignedIn: false\n        });\n      } else if (route === 'home') {\n        _this.setState({\n          isSignedIn: true\n        });\n      }\n\n      _this.setState({\n        route: route\n      });\n    };\n\n    _this.state = {\n      imageLink: '',\n      faceBox: [],\n      route: 'signin',\n      isSignedIn: false\n    };\n    return _this;\n  } // model has to be in the Class to execture setState(). Since model is a promise and execute after the call stack.\n\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(ParticleComp, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(Navigation, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), this.state.route === 'home' ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(ImageLinkForm, {\n        imageLinkChange: this.imageLinkChange,\n        imageLinkSubmit: this.imageLinkSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(Rank, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(FaceRecognition, {\n        imgLink: this.state.imageLink,\n        faceBox: this.state.faceBox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"// this.state.route === 'signin'\", React.createElement(Signin, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })), \"}\");\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/David/Desktop/Portfolio/Machine-Learning-Face-Recognition/src/containers/App.js"],"names":["React","Component","Navigation","Logo","ImageLinkForm","Rank","ParticleComp","FaceRecognition","Signin","Clarifai","require","app","App","apiKey","getFaceBox","response","faceBox","image","document","getElementById","width","Number","height","map","item","leftCol","region_info","bounding_box","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","model","imageLink","resp","models","predict","then","setState","console","log","catch","err","imageLinkChange","event","target","value","imageLinkSubmit","state","onRouteChange","route","isSignedIn"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Navigation from '../components/Navigation/Navigation.js';\nimport Logo from '../components/Logo/Logo.js';\nimport ImageLinkForm from '../components/ImageLinkForm/ImageLinkForm';\nimport Rank from \"../components/Rank/Rank\";\nimport ParticleComp from \"../components/ParticleComp/ParticleComp\";\nimport FaceRecognition from \"../components/FaceRecognition/FaceRecognition\";\nimport Signin from \"../components/Signin/Signin.js\";\n\nconst Clarifai = require('clarifai');\n\n// API key should be changed and secured later, not posting this on github\nconst app = new Clarifai.App({\n   apiKey: '11f16fba3bba4b98a5229d8e02661a23'\n});\n\n// https://samples.clarifai.com/face-det.jpg\n\n\n\nconst getFaceBox = (response) => {\n   const faceBox = response['outputs'][0]['data']['regions'];\n   const image = document.getElementById('inputImage');\n   const width = Number(image.width);\n   const height = Number(image.height);\n   return(\n       faceBox.map( (item) => {\n            return (\n               {\n                  leftCol: item.region_info.bounding_box.left_col * width,\n                  topRow: item.region_info.bounding_box.top_row * height,\n                  rightCol: width - (item.region_info.bounding_box.right_col * width),\n                  bottomRow: height - (item.region_info.bounding_box.bottom_row * height)\n               }\n            );\n         }\n      )\n   );\n}\n\n\n\n\n\nclass App extends Component {\n\n   constructor() {\n      super();\n      this.state = {\n         imageLink : '',\n         faceBox: [],\n         route: 'signin',\n         isSignedIn: false\n      }\n   }\n\n   // model has to be in the Class to execture setState(). Since model is a promise and execute after the call stack.\n   model = (imageLink) => {\n\n      let resp = {};\n      app.models.predict(\"a403429f2ddf4b49b307e318f00e528b\", imageLink)\n      .then(\n         (response) => {\n         resp = getFaceBox(response);\n         this.setState({faceBox: resp});\n         console.log(response);\n         console.log(this.faceBox);\n         })\n      .catch(\n         (err) => {console.log(err);}\n      );\n      return(resp);\n   }\n\n\n   imageLinkChange = (event) => {\n      this.setState({imageLink: event.target.value});\n   }\n\n   imageLinkSubmit = (event) => {\n      this.model(this.state.imageLink);\n   }\n\n   onRouteChange = (route) => {\n     if (route === 'signout') {\n       this.setState({isSignedIn: false})\n     } else if (route === 'home') {\n       this.setState({isSignedIn: true})\n     }\n     this.setState({route: route});\n   }\n\n  render() {\n    return (\n      <div className=\"App\">\n         <ParticleComp />\n         <Navigation />\n      {\n         (this.state.route === 'home') ?\n         <div>\n         <Logo />\n         <ImageLinkForm imageLinkChange={this.imageLinkChange} imageLinkSubmit={this.imageLinkSubmit} />\n         <Rank />\n         <FaceRecognition imgLink={this.state.imageLink} faceBox={this.state.faceBox}/>\n         </div>\n         :\n         <div>\n         // this.state.route === 'signin'\n         <Signin />\n         </div>\n         }\n      }\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}